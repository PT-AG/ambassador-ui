<template>
    <au-input-form title.bind="title" with.bind="context">
        <div class="row">
            <div class="col-md-6">
                <au-textbox label="No" value.bind="data.EPONo" read-only.bind="true" options.bind="controlOptions">
                </au-textbox>

                <au-autocomplete value.bind="selectedSupplier" label="Supplier"
                    loader.bind="supplierLoader" text.bind="supplierView" placeholder="cari supplier" key="code"
                    read-only.bind="true" options.bind="controlOptions">
                </au-autocomplete>

                <au-datepicker label="Tgl. Order" value.bind="data.OrderDate" 
                    read-only.bind="true" options.bind="controlOptions">
                </au-datepicker>

                <au-datepicker label="Tgl. Delivery" value.bind="data.DeliveryDate" 
                    read-only.bind="true" options.bind="controlOptions">
                </au-datepicker>

                <au-dropdown label="Ongkos Kirim Ditanggung oleh" value.bind="data.FreightCostBy"
                    read-only.bind="true" options.bind="controlOptions">
                </au-dropdown>

                <au-textbox label="Tipe Pembayaran" value.bind="data.PaymentType" 
                     read-only.bind="true" options.bind="controlOptions">
                </au-textbox>

                <au-textbox label="Term Pembayaran" value.bind="data.PaymentMethod" 
                     read-only.bind="true" options.bind="controlOptions">
                </au-textbox>

                <numeric label="Tempo Pembayaran" value.bind="data.PaymentDueDays" format="0" 
                    read-only.bind="true" post-fix="hari" if.bind="data.PaymentType=='CASH' || data.PaymentType=='T/T BEFORE' || data.PaymentType =='T/T AFTER'">
                </numeric>

                <au-autocomplete value.bind="selectedCurrency" label="Mata Uang"
                    loader.bind="currencyLoader" text.bind="currencyView" placeholder="cari mata uang" key="code"
                    read-only.bind="true" options.bind="controlOptions">
                </au-autocomplete>
            </div>
            <div class="col-md-6">
                <au-checkbox label="Apakah kena Pph?" value.bind="data.IsIncomeTax" read-only.bind="true"
                    if.bind="data.SupplierId" options.bind="controlOptions">
                </au-checkbox>

                <au-autocomplete 
                    value.bind="selectedIncomeTax" 
                    label="Pph" 
                    loader.bind="incomeTaxLoader"
                    text.bind = "incomeTaxView"
                    read-only.bind="true"
                    if.bind="data.IsIncomeTax"
                    options.bind="controlOptions">
                </au-autocomplete>

                <au-checkbox label="Apakah kena Ppn?" value.bind="data.IsUseVat"
                    read-only.bind="true" if.bind="data.SupplierId"
                    options.bind="controlOptions">
                </au-checkbox>

                <au-autocomplete value.bind="selectedVatTax" label="Ppn" 
                    if.bind="data.IsUseVat" loader.bind="vatTaxLoader" text.bind = "vatTaxView"
                    read-only.bind="true" post-fix="%" options.bind="controlOptions">
                </au-autocomplete>

                <au-checkbox label="Apakah bayar PPN?" value.bind="data.IsPayVAT" 
                    read-only.bind="true" if.bind="data.IsUseVat" options.bind="controlOptions">
                </au-checkbox>

                <au-checkbox label="Apakah bayar PPh?" value.bind="data.IsPayIncomeTax" 
                    read-only.bind="true" if.bind="data.IsIncomeTax" options.bind="controlOptions">
                </au-checkbox>

                <au-textbox label="Kategori" value.bind="data.Category.Name" 
                    read-only.bind="true" options.bind="controlOptions">
                </au-textbox>

                <au-multiline label="Keterangan" value.bind="data.Remark" 
                    read-only.bind="true" options.bind="controlOptions">
                </au-multiline>
            </div>
        </div>
        
        <au-table 
            data.bind="items" 
            errors.bind="error.items" 
            columns.bind="columns" 
            options.bind="tableOptions" 
            read-only.bind="readOnly"
        >
        </au-table>
    </au-input-form>
</template>
